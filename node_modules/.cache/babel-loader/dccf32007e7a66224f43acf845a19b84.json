{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"@datadog/ui-extensions-sdk\"), require(\"react\")) : \"function\" == typeof define && define.amd ? define([\"@datadog/ui-extensions-sdk\", \"react\"], t) : \"object\" == typeof exports ? exports.DD_REACT = t(require(\"@datadog/ui-extensions-sdk\"), require(\"react\")) : e.DD_REACT = t(e[\"@datadog/ui-extensions-sdk\"], e.react);\n}(self, function (e, t) {\n  return function () {\n    \"use strict\";\n\n    var n = {\n      920: function (e, t, n) {\n        var i = this && this.__createBinding || (Object.create ? function (e, t, n, i) {\n          void 0 === i && (i = n), Object.defineProperty(e, i, {\n            enumerable: !0,\n            get: function () {\n              return t[n];\n            }\n          });\n        } : function (e, t, n, i) {\n          void 0 === i && (i = n), e[i] = t[n];\n        }),\n            o = this && this.__exportStar || function (e, t) {\n          for (var n in e) \"default\" === n || Object.prototype.hasOwnProperty.call(t, n) || i(t, e, n);\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), o(n(54), t), o(n(692), t), o(n(712), t), o(n(119), t), o(n(657), t);\n      },\n      54: function (e, t, n) {\n        var i = this && this.__createBinding || (Object.create ? function (e, t, n, i) {\n          void 0 === i && (i = n), Object.defineProperty(e, i, {\n            enumerable: !0,\n            get: function () {\n              return t[n];\n            }\n          });\n        } : function (e, t, n, i) {\n          void 0 === i && (i = n), e[i] = t[n];\n        }),\n            o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n          Object.defineProperty(e, \"default\", {\n            enumerable: !0,\n            value: t\n          });\n        } : function (e, t) {\n          e.default = t;\n        }),\n            r = this && this.__importStar || function (e) {\n          if (e && e.__esModule) return e;\n          var t = {};\n          if (null != e) for (var n in e) \"default\" !== n && Object.prototype.hasOwnProperty.call(e, n) && i(t, e, n);\n          return o(t, e), t;\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.useContext = void 0;\n        var u = r(n(669)),\n            a = r(n(156));\n\n        t.useContext = function (e) {\n          var t = function (e) {\n            var t = a.useState({\n              type: \"initializing\"\n            }),\n                n = t[0],\n                i = t[1];\n            return a.useEffect(function () {\n              var t = !1;\n              e.getContext().then(function (e) {\n                t || i({\n                  type: \"initialized\",\n                  context: e\n                });\n              }).catch(function (e) {\n                t || i({\n                  type: \"handshake failure\",\n                  error: e\n                });\n              });\n              var n = e.events.on(u.EventType.CONTEXT_CHANGE, function (e) {\n                i({\n                  type: \"initialized\",\n                  context: e\n                });\n              });\n              return function () {\n                t = !0, n();\n              };\n            }, [e]), n;\n          }(e);\n\n          switch (t.type) {\n            case \"handshake failure\":\n            case \"initializing\":\n              return;\n\n            case \"initialized\":\n              return t.context;\n          }\n        };\n      },\n      712: function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.useCustomWidgetOptionBoolean = void 0;\n        var i = n(692);\n\n        t.useCustomWidgetOptionBoolean = function (e, t) {\n          return (0, i.useCustomWidgetOption)(e, t, function (e) {\n            if (\"boolean\" == typeof e) return e;\n          });\n        };\n      },\n      119: function (e, t, n) {\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.useCustomWidgetOptionString = void 0;\n        var i = n(692);\n\n        t.useCustomWidgetOptionString = function (e, t) {\n          return (0, i.useCustomWidgetOption)(e, t, function (e) {\n            if (\"string\" == typeof e) return e;\n          });\n        };\n      },\n      692: function (e, t, n) {\n        var i = this && this.__createBinding || (Object.create ? function (e, t, n, i) {\n          void 0 === i && (i = n), Object.defineProperty(e, i, {\n            enumerable: !0,\n            get: function () {\n              return t[n];\n            }\n          });\n        } : function (e, t, n, i) {\n          void 0 === i && (i = n), e[i] = t[n];\n        }),\n            o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n          Object.defineProperty(e, \"default\", {\n            enumerable: !0,\n            value: t\n          });\n        } : function (e, t) {\n          e.default = t;\n        }),\n            r = this && this.__importStar || function (e) {\n          if (e && e.__esModule) return e;\n          var t = {};\n          if (null != e) for (var n in e) \"default\" !== n && Object.prototype.hasOwnProperty.call(e, n) && i(t, e, n);\n          return o(t, e), t;\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.useCustomWidgetOption = void 0;\n        var u = r(n(156)),\n            a = r(n(54));\n\n        t.useCustomWidgetOption = function (e, t, n) {\n          var i,\n              o = a.useContext(e),\n              r = u.useState(),\n              f = r[0],\n              c = r[1];\n          return u.useEffect(function () {\n            var e, i;\n\n            if (null != o) {\n              var r = null === (i = null === (e = o.widget) || void 0 === e ? void 0 : e.definition.options) || void 0 === i ? void 0 : i[t];\n\n              if (null != r) {\n                var u = n(r);\n                c(u);\n              } else c(void 0);\n            }\n          }, [o, null === (i = null == o ? void 0 : o.widget) || void 0 === i ? void 0 : i.definition.options, t, n]), f;\n        };\n      },\n      657: function (e, t, n) {\n        var i = this && this.__createBinding || (Object.create ? function (e, t, n, i) {\n          void 0 === i && (i = n), Object.defineProperty(e, i, {\n            enumerable: !0,\n            get: function () {\n              return t[n];\n            }\n          });\n        } : function (e, t, n, i) {\n          void 0 === i && (i = n), e[i] = t[n];\n        }),\n            o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n          Object.defineProperty(e, \"default\", {\n            enumerable: !0,\n            value: t\n          });\n        } : function (e, t) {\n          e.default = t;\n        }),\n            r = this && this.__importStar || function (e) {\n          if (e && e.__esModule) return e;\n          var t = {};\n          if (null != e) for (var n in e) \"default\" !== n && Object.prototype.hasOwnProperty.call(e, n) && i(t, e, n);\n          return o(t, e), t;\n        };\n\n        Object.defineProperty(t, \"__esModule\", {\n          value: !0\n        }), t.useTemplateVariable = void 0;\n        var u = r(n(156)),\n            a = r(n(54));\n\n        t.useTemplateVariable = function (e, t) {\n          var n,\n              i = a.useContext(e),\n              o = u.useState(),\n              r = o[0],\n              f = o[1];\n          return u.useEffect(function () {\n            var e,\n                n,\n                o = null !== (n = null === (e = null == i ? void 0 : i.dashboard) || void 0 === e ? void 0 : e.templateVars) && void 0 !== n ? n : [],\n                r = function (e, t) {\n              var n = t.find(function (t) {\n                return t.name === e;\n              });\n              if (null != (null == n ? void 0 : n.value)) return n.value;\n            }(t, o);\n\n            null != r && f(r);\n          }, [null === (n = null == i ? void 0 : i.dashboard) || void 0 === n ? void 0 : n.templateVars, t]), r;\n        };\n      },\n      669: function (t) {\n        t.exports = e;\n      },\n      156: function (e) {\n        e.exports = t;\n      }\n    },\n        i = {};\n    return function e(t) {\n      var o = i[t];\n      if (void 0 !== o) return o.exports;\n      var r = i[t] = {\n        exports: {}\n      };\n      return n[t].call(r.exports, r, r.exports, e), r.exports;\n    }(920);\n  }();\n});","map":{"version":3,"mappings":"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","names":["root","factory","exports","module","require","define","amd","DD_REACT","react","self","__WEBPACK_EXTERNAL_MODULE__669__","__WEBPACK_EXTERNAL_MODULE__156__","o","a","t","client","result","React","useState","type","context","setContext","useEffect","unMounted","getContext","then","newContext","catch","error","e","unsubscribeContextChange","events","on","uiExtensionsSDK","EventType","CONTEXT_CHANGE","useContextImplementation","optionName","newOption","parser","useContext","r","option","setOption","initialOption","i","widget","definition","options","parsed","undefined","variableName","variable","setVariable","templateVariables","n","dashboard","templateVars","value","templateVariable","find","name","findTemplateVariableValue","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sources":["webpack://DD_REACT/webpack/universalModuleDefinition","webpack://DD_REACT/src/index.ts","webpack://DD_REACT/src/use-context.ts","webpack://DD_REACT/src/use-custom-widget-option-boolean.ts","webpack://DD_REACT/src/use-custom-widget-option-string.ts","webpack://DD_REACT/src/use-custom-widget-option.ts","webpack://DD_REACT/src/use-template-variable.ts","webpack://DD_REACT/external umd \"@datadog/ui-extensions-sdk\"","webpack://DD_REACT/external umd \"react\"","webpack://DD_REACT/webpack/bootstrap","webpack://DD_REACT/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@datadog/ui-extensions-sdk\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@datadog/ui-extensions-sdk\", \"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DD_REACT\"] = factory(require(\"@datadog/ui-extensions-sdk\"), require(\"react\"));\n\telse\n\t\troot[\"DD_REACT\"] = factory(root[\"@datadog/ui-extensions-sdk\"], root[\"react\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__669__, __WEBPACK_EXTERNAL_MODULE__156__) {\nreturn ","export * from './use-context';\nexport * from './use-custom-widget-option';\nexport * from './use-custom-widget-option-boolean';\nexport * from './use-custom-widget-option-string';\nexport * from './use-template-variable';\n","import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\nimport * as React from 'react';\n\n/**\n * This represents the different states the {@link uiExtensionsSDK.Context} can be in.\n */\ntype Context =\n    | ContextHandshakeFailure\n    | ContextInitialized\n    | ContextInitializing;\n\n/**\n * There was some kind of failure with the handshake.\n * There's no useful {@link uiExtensionsSDK.Context}, but there is an error.\n */\ntype ContextHandshakeFailure = { type: 'handshake failure'; error: unknown };\n\n/**\n * The handshake is still being preformed.\n * There's no useful {@link uiExtensionsSDK.Context} yet.\n */\ntype ContextInitializing = { type: 'initializing' };\n\n/**\n * The handshake has succeeded and there is a {@link uiExtensionsSDK.Context} that can be used.\n */\ntype ContextInitialized = {\n    type: 'initialized';\n    context: uiExtensionsSDK.Context;\n};\n\n/**\n * Returns a {@link uiExtensionsSDK.Context}.\n * Will be updated whenever the {@link uiExtensionsSDK.Context} changes.\n *\n * This hook abstracts away the intricacies of keeping the {@link uiExtensionsSDK.Context} up to date.\n *\n * @param client An initialized {@link uiExtensionsSDK.DDClient}.\n * This should be the result of invoking {@link uiExtensionsSDK.init}.\n * @returns The {@link uiExtensionsSDK.Context}, if it exists.\n *\n * @example\n * This can be used like:\n * ```TypeScript\n * import * as uiExtensionsReact from '@datadog/ui-extensions-react';\n * import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\n * import * as React from 'react';\n *\n * const client = uiExtensionsSDK.init();\n *\n * const Widget: React.FunctionComponent = () => {\n *      const context = uiExtensionsReact.useContext(client)\n *      if (context == null) {\n *          return <p>Initializing</p>;\n *      }\n *\n *      const colorTheme: uiExtensionsSDK.ColorTheme = context.app.currentUser.colorTheme;\n *      return <p>Widget is ready! Color theme: {colorTheme}</p>;\n * }\n * ```\n */\nfunction useContext(\n    client: uiExtensionsSDK.DDClient\n): uiExtensionsSDK.Context | undefined {\n    const result = useContextImplementation(client);\n    switch (result.type) {\n        case 'handshake failure':\n            return undefined;\n\n        case 'initialized':\n            return result.context;\n\n        case 'initializing':\n            return undefined;\n    }\n}\n\n/**\n * The low-level implementation of the {@link useContext} hook.\n * This only exists to make it a bit clearer to understand how we deal with the different states.\n *\n * @param client An initialized {@link uiExtensionsSDK.DDClient}.\n * This should be the result of invoking {@link uiExtensionsSDK.init}.\n * @returns The state of the {@link uiExtensionsSDK.Context}.\n */\nfunction useContextImplementation(client: uiExtensionsSDK.DDClient): Context {\n    const [context, setContext] = React.useState<Context>({\n        type: 'initializing'\n    });\n\n    React.useEffect(() => {\n        // Since we're dealing with promises,\n        // we need some way to track whether or not to make a state change.\n        // We keep track of whether or not we're still mounted.\n        let unMounted: boolean = false;\n\n        client\n            .getContext()\n            .then((newContext: uiExtensionsSDK.Context): void => {\n                if (unMounted) {\n                    return;\n                }\n\n                setContext({ type: 'initialized', context: newContext });\n            })\n            .catch((error: unknown): void => {\n                if (unMounted) {\n                    return;\n                }\n\n                setContext({ type: 'handshake failure', error });\n            });\n\n        const unsubscribeContextChange = client.events.on(\n            uiExtensionsSDK.EventType.CONTEXT_CHANGE,\n            (newContext: uiExtensionsSDK.Context): void => {\n                setContext({ type: 'initialized', context: newContext });\n            }\n        );\n\n        return () => {\n            // We flip the flag to let any in-flight promises know we're unmounted.\n            unMounted = true;\n            unsubscribeContextChange();\n        };\n    }, [client]);\n\n    return context;\n}\n\nexport { useContext };\n","import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\n\nimport { useCustomWidgetOption } from './use-custom-widget-option';\n\n/**\n * Returns the current value of a single custom widget option that is expected to be a {@link boolean}.\n * This will be updated whenever the options change.\n *\n * This hook abstracts away the intricacies of keeping up to date with an option.\n *\n * @param client An initialized {@link uiExtensionsSDK.DDClient}. This should be the result of invoking {@link uiExtensionsSDK.init}.\n * @param optionName The option name to look for.\n * @returns The option value (if it exists).\n *\n * @example\n * This hook can be used like:\n * ```TypeScript\n * import * as uiExtensionsReact from '@datadog/ui-extensions-react';\n * import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\n * import * as React from 'react';\n *\n * const client = uiExtensionsSDK.init();\n *\n * const CustomWidget: React.FunctionComponent = () => {\n *     const verbose = uiExtensionsReact.useCustomWidgetOptionBoolean(client, 'verbose');\n *\n *     if (verbose == null) {\n *         return <p>Please decide on verbosity</p>;\n *     } else {\n *         return <p>Verbose: {verbose}</p>;\n *     }\n * }\n * ```\n */\nfunction useCustomWidgetOptionBoolean(\n    client: uiExtensionsSDK.DDClient,\n    optionName: string\n): boolean | undefined {\n    const option: boolean | undefined = useCustomWidgetOption(\n        client,\n        optionName,\n        (newOption: string | boolean): boolean | undefined => {\n            if (typeof newOption !== 'boolean') {\n                return;\n            }\n\n            return newOption;\n        }\n    );\n\n    return option;\n}\n\nexport { useCustomWidgetOptionBoolean };\n","import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\n\nimport { useCustomWidgetOption } from './use-custom-widget-option';\n\n/**\n * Returns the current value of a single custom widget option that is expected to be a {@link string}.\n * This will be updated whenever the options change.\n *\n * This hook abstracts away the intricacies of keeping up to date with an option.\n *\n * @param client An initialized {@link uiExtensionsSDK.DDClient}. This should be the result of invoking {@link uiExtensionsSDK.init}.\n * @param optionName The option name to look for.\n * @returns The option value (if it exists).\n *\n * @example\n * This hook can be used like:\n * ```TypeScript\n * import * as uiExtensionsReact from '@datadog/ui-extensions-react';\n * import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\n * import * as React from 'react';\n *\n * const client = uiExtensionsSDK.init();\n *\n * const CustomWidget: React.FunctionComponent = () => {\n *     const query = uiExtensionsReact.useCustomWidgetOptionString(client, 'query');\n *\n *     if (query == null) {\n *         return <p>Please set a query</p>;\n *     } else {\n *         return <p>Query: {query}</p>;\n *     }\n * }\n * ```\n */\nfunction useCustomWidgetOptionString(\n    client: uiExtensionsSDK.DDClient,\n    optionName: string\n): string | undefined {\n    const option: string | undefined = useCustomWidgetOption(\n        client,\n        optionName,\n        (newOption: string | boolean): string | undefined => {\n            if (typeof newOption !== 'string') {\n                return;\n            }\n\n            return newOption;\n        }\n    );\n\n    return option;\n}\n\nexport { useCustomWidgetOptionString };\n","import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\nimport * as React from 'react';\n\nimport * as useContext from './use-context';\n\n/**\n * Returns the current value of a single custom widget option.\n * This will be updated whenever the options change.\n *\n * This hook abstracts away the intricacies of keeping options up to date.\n *\n * @param client An initialized {@link uiExtensionsSDK.DDClient}. This should be the result of invoking {@link uiExtensionsSDK.init}.\n * @param optionName The option name to look for.\n * @param parser A function for parsing the option value.\n * @returns The option value (if it exists).\n *\n * @example\n * This hook can be used like:\n * ```TypeScript\n * import * as uiExtensionsReact from '@datadog/ui-extensions-react';\n * import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\n * import * as React from 'react';\n *\n * const client = uiExtensionsSDK.init();\n *\n * const parseInt = (option: string | boolean): number | undefined => {\n *     if (typeof option !== 'string') {\n *         return;\n *     }\n *\n *     const parsed: number = Number.parseInt(option);\n *     if (Number.isNaN(parsed)) {\n *         return;\n *     }\n *\n *     return parsed;\n * };\n *\n * const CustomWidget: React.FunctionComponent = () => {\n *     const threshold = uiExtensionsReact.useCustomWidgetOption(client, 'threshold', parseInt);\n *\n *     if (threshold == null) {\n *         return <p>Please set a threshold</p>;\n *     } else {\n *         return <p>Threshold: {threshold}</p>;\n *     }\n * }\n * ```\n */\nfunction useCustomWidgetOption<Result>(\n    client: uiExtensionsSDK.DDClient,\n    optionName: string,\n    parser: (option: string | boolean) => Result | undefined\n): Result | undefined {\n    const context = useContext.useContext(client);\n    const [option, setOption] = React.useState<Result>();\n\n    React.useEffect(() => {\n        if (context == null) {\n            return;\n        }\n\n        const initialOption: string | boolean | undefined =\n            context.widget?.definition.options?.[optionName];\n        if (initialOption == null) {\n            setOption(undefined);\n            return;\n        }\n\n        const parsed = parser(initialOption);\n        setOption(parsed);\n    }, [context, context?.widget?.definition.options, optionName, parser]);\n\n    return option;\n}\n\nexport { useCustomWidgetOption };\n","import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\nimport * as React from 'react';\n\nimport * as useContext from './use-context';\n\nfunction findTemplateVariableValue(\n    variableName: string,\n    templateVariables: uiExtensionsSDK.TemplateVariableValue[]\n): string | undefined {\n    const templateVariable = templateVariables.find(\n        (value: uiExtensionsSDK.TemplateVariableValue): boolean => {\n            return value.name === variableName;\n        }\n    );\n\n    if (templateVariable?.value == null) {\n        return;\n    }\n\n    return templateVariable.value;\n}\n\n/**\n * Returns the current value of a specific template variable.\n * This will be updated whenever the template variable changes.\n *\n * This hook abstracts away the intricacies of keeping template variables up to date.\n *\n * @param client An initialized {@link uiExtensionsSDK.DDClient}. This should be the result of invoking {@link uiExtensionsSDK.init}.\n * @param variableName The name of the template variable to get the value of.\n * @returns The value of the template variable if it exists.\n *\n * @example\n * This hook can be used like:\n * ```TypeScript\n * import * as uiExtensionsReact from '@datadog/ui-extensions-react';\n * import * as uiExtensionsSDK from '@datadog/ui-extensions-sdk';\n * import * as React from 'react';\n *\n * const client = uiExtensionsSDK.init();\n *\n * const CustomWidget: React.FunctionComponent = () => {\n *     const service = uiExtensionsReact.useTemplateVariable(client, 'service');\n *\n *     if (service == null) {\n *         return <p>Please select a service from the template variables.</p>;\n *     }\n *\n *     return <p>Service: {service}.</p>;\n * }\n * ```\n */\nfunction useTemplateVariable(\n    client: uiExtensionsSDK.DDClient,\n    variableName: string\n): string | undefined {\n    const context = useContext.useContext(client);\n    const [variable, setVariable] = React.useState<string | undefined>();\n\n    React.useEffect(() => {\n        const templateVariables = context?.dashboard?.templateVars ?? [];\n        const value = findTemplateVariableValue(\n            variableName,\n            templateVariables\n        );\n        if (value == null) {\n            return;\n        }\n\n        setVariable(value);\n    }, [context?.dashboard?.templateVars, variableName]);\n\n    return variable;\n}\n\nexport { useTemplateVariable };\n","module.exports = __WEBPACK_EXTERNAL_MODULE__669__;","module.exports = __WEBPACK_EXTERNAL_MODULE__156__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(920);\n"]},"metadata":{},"sourceType":"script"}